<!DOCTYPE html>
<html>
<head>
   <title>Nodes &gt; Output &gt; Gmail</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta name="description" content="Purpose &nbsp;Send an email message via Gmail service. Note: Gmail requires to add permissions to your account for sending messages in your name from external &nbsp;applications. Check" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet" />

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
        padding:0; 
        background: #ffffff; 
      } 
      div#printheader { display: none; }
      #idheader { 
        width:100%; 
        height:auto; 
        padding: 0; 
        margin: 0;
        position: fixed;
        top: 0;
        z-index: 2;
      } 
      /* The "min-height" for "#idheader table" ensures that the (blue) header of the topic
         has at least the same height as the header of the navigation panel left of it */
      #idheader table { background: #404040; min-height: 59px }             
      #idheader h1 span { color: #FFF }     
      #idnav {
        text-align: right;
        width: 126px;
        vertical-align: middle;        
      } 
      #idnav a { text-decoration: none }
      #idnav span {
        display: inline-block;
        width: 24px;
        height: 24px;
        margin-left: 4px;
        background:url('hm_webhelp_buttons_grey.png') top left no-repeat;
      } 
      #idnav a span {
        background-image:url('hm_webhelp_buttons_white.png');
      } 
      #idnav a span:hover {
        background-image:url('hm_webhelp_buttons_yellow.png');
      } 
      #idnav span.hmbtnprev { background-position: 0 -32px }
      #idnav span.hmbtnnext { background-position: -24px -32px }
      #idnav span.hmbtntop  { background-position: -48px -32px }
      #idnav span.hmbtntoggle  { width: 20px; background-position: -70px -32px }
      #idnav span.hmbtnprint  { background-position: -88px -32px }

      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}       
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }      
      #switchtoggles { text-align: right; padding: 0 2px 0 0; font-size: 90%; } 
      .sync-toc { color: #FFF; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #FFF; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #FFF; }
      .sync-toc a:hover { text-decoration: underline; }
      a.hmanchor { display: inline-block; margin-top: -4em; padding-top: 4em }	  
   </style>
   <style TYPE="text/css" media="print">
      div#idheader, img.dropdown-toggle-icon, p.help-url { display:none } 
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "mail_2.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<div id="printheader"><h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">Gmail</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0"> 
  <tr>
    <td class="topichead" style="text-align:left; vertical-align:bottom">
      <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="index.html?mail_2.html" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
      <p class="crumbs"><b>Navigation:</b>&nbsp;
      
      <a href="nodes.html">Nodes</a> &gt; <a href="output.html">Output</a>&nbsp;&gt;</p>
   
      <h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">Gmail</span></h1>

    </td>
    <td class="topichead" id="idnav">
      
      <a href="masv.html" title="Previous Topic"><span class="hmbtnprev"></span></a>
      <a href="output.html" title="Parent Chapter"><span class="hmbtntop"></span></a>
      <a href="googledriveout.html" title="Next Topic"><span class="hmbtnnext"></span></a>
      
    </td>
  </tr>  
</table>
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser --> 
<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->

<!--ZOOMRESTART-->
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">&nbsp;</span></h2>
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">Purpose</span></h2>
<p class="p_Normal">&nbsp;</p>
<p class="p_BodyText"><span class="f_BodyText">Send an email message via Gmail service.</span></p>
<p class="p_Comment"><span class="f_T_Emphasis">Note: Gmail requires to add permissions to your account for sending messages in your name from external &nbsp;applications. Check Google documentation about </span><span class="f_Comment"><a href="https://myaccount.google.com/lesssecureapps?pli=1&amp;rapt=AEjHL4Pn8wj5yTy7Hpp0PhYjfJGYzhrjSuj5s1GZe6gigZp6IedK0RJYSZlTNfrAh5O3_3dsw5_AX17o4SaZoYbGJyHdMDUsug" target="_blank" class="weblink" title="https://myaccount.google.com/lesssecureapps?pli=1&amp;rapt=AEjHL4Pn8wj5yTy7Hpp0PhYjfJGYzhrjSuj5s1GZe6gigZp6IedK0RJYSZlTNfrAh5O3_3dsw5_AX17o4SaZoYbGJyHdMDUsug">giving email access to &quot;less secure&quot; applications</a>. </span><span class="f_T_Emphasis">Logically for production systems it is recommended to use a dedicated email account as mail originator, not your personal one...</span></p>
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">&nbsp;</span></h2>
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">Inputs</span></h2>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">input:</span> <span class="f_BodyText">Connect this input to the output of another node and receive metadata content that you want to use in the email.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Note: If what you want is<span class="f_BodyText"> to detect that a previous node has completed its actions before sending an email then it is better to use the &quot;rank&quot; connector for that. The input connector is meant for a different purpose, which is to receive metadata content for the email. &nbsp;Note that this content may come from a different node than the node acting as the email trigger via rank connector. In the next example the input content are the list of file paths coming from an h264 transcoder node, but the trigger for the email is the upload completion of an ftp node (the example was for the old Mail node, but it is the same for </span><span class="f_T_Menu">Gmail</span><span class="f_BodyText">):</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="clip0064" width="545" height="242" style="margin:0;width:545px;height:242px;border:none" src="clip0064.png"/></p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">Standard properties</span></h2>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_Heading3"><a href="common-parameters.html#objectname" class="topiclink" title="Object Name">Object Name</a></span></h3>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_Heading3"><a href="common-parameters.html#color" class="topiclink" title="Color">Color</a></span></h3>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_Heading3"><a href="common-parameters.html#bypassenabled" class="topiclink" title="Color">Bypass</a></span></h3>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_Heading3"><a href="common-parameters.html#schemaname" class="topiclink">Schema name</a></span></h3>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">&nbsp;</span></h2>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_Heading3">Node Properties</span></h3>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">Only Send If Input: </span><span class="f_BodyText">Only send emails if the input connector is not empty.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">One Per File: </span><span class="f_BodyText">Send one email per incoming file. If it is deactivated then it will send only one email, but you can use the </span><span class="f_T_Menu">Body </span><span class="f_BodyText">below to include the whole list of incoming files...</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">Client Id, Client Secret: </span>These credentials need to be obtained for your email account, by enabling the Gmail API in the Google cloud “APIs and Services” options<span style="font-size: 15px; font-family: Arial,Helvetica,sans-serif; color: #000000;">: (</span><span style="font-size: 15px; font-family: Arial,Helvetica,sans-serif; color: #000000; text-decoration: underline;"><a href="https://console.cloud.google.com/" target="_blank" class="weblink">https://console.cloud.google.com/</a> &nbsp;see example picture below</span><span style="font-size: 15px; font-family: Arial,Helvetica,sans-serif; color: #000000;">) </span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="gmail" width="655" height="658" style="margin:0;width:655px;height:658px;border:none" src="gmail.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">To, replyTo:</span> <span class="f_BodyText">Email destination addresses (you can put several of them comma separated).</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">Subject: </span><span class="f_BodyText">Subject of the email.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">Body Type:</span><span class="f_BodyText"> Select between plain text or html</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">Body:</span><span class="f_BodyText"> Here you can write the body of the message to send, with also the possibility to execute some python code before sending it (typically to process input content). Examples:</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The default body comes with a simple example, which will just send the list of file paths received by the &quot;input&quot; connector of the node:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_T_Code">Put Your Text Here</span></p>
<p class="p_Normal"><span class="f_T_Code">&lt;?py</span></p>
<p class="p_Normal"><span class="f_T_Code">if self.onePerFile:</span></p>
<p class="p_Normal"><span class="f_T_Code"> print(&quot;Input file:&quot;)</span></p>
<p class="p_Normal"><span class="f_T_Code"> up=self._localDict['up']</span></p>
<p class="p_Normal"><span class="f_T_Code"> print (up.getFilePath())</span></p>
<p class="p_Normal"><span class="f_T_Code">else:</span></p>
<p class="p_Normal"><span class="f_T_Code"> print(&quot;List of input Files:&quot;)</span></p>
<p class="p_Normal"><span class="f_T_Code"> for c in self.getConnectors():</span></p>
<p class="p_Normal"><span class="f_T_Code"> for p in c.getUniversalPaths():</span></p>
<p class="p_Normal"><span class="f_T_Code"> print (p.getFilePath())</span></p>
<p class="p_Normal"><span class="f_T_Code">?&gt;</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Which will simply replace the section between &lt; &gt; by the list of input files.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In another example, let's suppose a previous node in the workflow has uploaded some videos to your website (the above picture about the input connector illustrates such type of &nbsp;workflow). &nbsp;Then, the next code in the body of the email node will convert each input filename into the &nbsp;public url to access to it, by adding your domain and also replacing spaces &nbsp;according to the url standard (%20). </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: #ffffff;">Hello, we have new video content for you:</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-family: 'Times New Roman',Times,Georgia,serif; color: #000000;">&lt;?py</span></p>
<p class="p_Normal"><span style="font-family: 'Times New Roman',Times,Georgia,serif; color: #000000;">for c in self.getConnectors():</span></p>
<p class="p_Normal"><span style="font-family: 'Times New Roman',Times,Georgia,serif; color: #000000;">for p in c.getUniversalPaths():</span></p>
<p class="p_Normal"><span style="font-family: 'Times New Roman',Times,Georgia,serif; color: #000000;">print &quot;https://www.MyDomain.com/HereAreYourVideos/&quot;+p.getFileName().replace(' ','%20')</span></p>
<p class="p_Normal"><span style="font-family: 'Times New Roman',Times,Georgia,serif; color: #000000;">?&gt;</span></p>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_Heading3">&nbsp;</span></h3>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span class="f_BodyText">&nbsp;</span></h3>
<p class="p_Normal"> In this way, your clients will receive standard links that they can simply click for watching the videos, as they will receive emails like this :</p>
<p class="p_Normal">&nbsp;</p>
<h3 class="p_Heading3" style="page-break-after: avoid;"><span style="font-size: 13px; font-family: Arial,Helvetica,sans-serif; color: #000000; background-color: #ffffff;">Hello, we have new video content for you:</span></h3>
<p class="p_Normal">&nbsp;</p>
<p><span style="font-size: 13px;"><a href="www.sgo.es" target="_blank" class="weblink">https://www.MyDomain.com/HereAreYourVideos/This%20is%20chapter%20Season1.mp4</a></span></p>
<p><span style="font-size: 13px;"><a href="www.sgo.es" target="_blank" class="weblink">https://www.MyDomain.com/HereAreYourVideos/This%20is%20chapter%20Season2.mp4</a></span></p>
<p><span style="font-size: 13px;"><a href="www.sgo.es" target="_blank" class="weblink">https://www.MyDomain.com/HereAreYourVideos/This%20is%20chapter%20Season3.mp4</a></span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span class="f_Heading3">Code: </span><span class="f_BodyText">This particular node is in fact a &nbsp;python node that uses a python script to send emails. The script itself has been left accessible as an example for Python programmers, or in case you want to customize it to your particular needs.</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


  $(document).ready(function(){
    $(window).bind('resize', function() {
      var y = $('#idheader').height(); 
      $('#idcontent').css('margin-top', y);
      var par = window.parent;
      if ($( par ).width() <= $( window ).width()+20) {
        $('#idheader').css('position', 'relative');
        $('#idcontent').css('margin-top', 0);
        $('#idbacktotop').css('display', 'block');
        $('.hmanchor').css('margin-top', -20);
	$('.hmanchor').css('padding-top', 20);
      }
      else {
        $('#idheader').css('position', 'fixed');
        $('#idcontent').css('margin-top', $('#idheader').height());
        $('#idbacktotop').css('display', 'none');
        $('.hmanchor').css('margin-top', -y-20);
	$('.hmanchor').css('padding-top', y+20);
      }
    });
    
    $(window).resize(); //trigger event for initially small displays
  });

if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) { $('.sync-toc').show();$('p.crumbs').hide();}

</script>
</body>
</html>
