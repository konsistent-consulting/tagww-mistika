<!DOCTYPE html>
<html>
<head>
   <title>Mistika Workflows Interface &gt; Connecting the nodes</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta name="description" content="Mistika Workflows provides a node based interface, including three types of nodes:" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link type="text/css" href="custom.css" rel="stylesheet" />

   <style TYPE="text/css" media="screen"> 
      html, body { margin:0; 
        padding:0; 
        background: #ffffff; 
      } 
      div#printheader { display: none; }
      #idheader { 
        width:100%; 
        height:auto; 
        padding: 0; 
        margin: 0;
        position: fixed;
        top: 0;
        z-index: 2;
      } 
      /* The "min-height" for "#idheader table" ensures that the (blue) header of the topic
         has at least the same height as the header of the navigation panel left of it */
      #idheader table { background: #404040; min-height: 59px }             
      #idheader h1 span { color: #FFF }     
      #idnav {
        text-align: right;
        width: 126px;
        vertical-align: middle;        
      } 
      #idnav a { text-decoration: none }
      #idnav span {
        display: inline-block;
        width: 24px;
        height: 24px;
        margin-left: 4px;
        background:url('hm_webhelp_buttons_grey.png') top left no-repeat;
      } 
      #idnav a span {
        background-image:url('hm_webhelp_buttons_white.png');
      } 
      #idnav a span:hover {
        background-image:url('hm_webhelp_buttons_yellow.png');
      } 
      #idnav span.hmbtnprev { background-position: 0 -32px }
      #idnav span.hmbtnnext { background-position: -24px -32px }
      #idnav span.hmbtntop  { background-position: -48px -32px }
      #idnav span.hmbtntoggle  { width: 20px; background-position: -70px -32px }
      #idnav span.hmbtnprint  { background-position: -88px -32px }

      #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
      #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
      #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
      #callout-table a {text-decoration: none; color: blue;}
      #callout-table a:visited {text-decoration: none; color: blue;}
      #overview-table a {text-decoration: none; color: black;}
      #overview-table a:visited {text-decoration: none; color: black;}
      #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}       
      p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }      
      #switchtoggles { text-align: right; padding: 0 2px 0 0; font-size: 90%; } 
      .sync-toc { color: #FFF; font-size: 8pt; font-weight: bold; display: none; }
      .sync-toc a { color: #FFF; text-decoration: none; font-weight: bold;}
      .sync-toc a:visited { color: #FFF; }
      .sync-toc a:hover { text-decoration: underline; }
      a.hmanchor { display: inline-block; margin-top: -4em; padding-top: 4em }	  
   </style>
   <style TYPE="text/css" media="print">
      div#idheader, img.dropdown-toggle-icon, p.help-url { display:none } 
   </style>
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "creating-a-project.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>


<div id="printheader"><h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">Connecting the nodes</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0"> 
  <tr>
    <td class="topichead" style="text-align:left; vertical-align:bottom">
      <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="index.html?creating-a-project.html" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
      <p class="crumbs"><b>Navigation:</b>&nbsp;
      
      <a href="4_-mistika-wf-interface.html">Mistika Workflows Interface</a>&nbsp;&gt;</p>
   
      <h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">Connecting the nodes</span></h1>

    </td>
    <td class="topichead" id="idnav">
      
      <a href="project-manager-window.html" title="Previous Topic"><span class="hmbtnprev"></span></a>
      <a href="4_-mistika-wf-interface.html" title="Parent Chapter"><span class="hmbtntop"></span></a>
      <a href="auto-naming-tools.html" title="Next Topic"><span class="hmbtnnext"></span></a>
      
    </td>
  </tr>  
</table>
</div>
</div>  

<div id="idcontent"><div id="innerdiv">
<!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser --> 
<!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->

<!--ZOOMRESTART-->
<p class="p_Normal" style="text-align: justify;">&nbsp;</p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">Mistika Workflows provides a node based interface, including three types of nodes:</span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText" style="font-weight: bold;">-</span><span class="f_BodyText"> </span><span class="f_TipHeading">input nodes for loading or downloading input files</span><span class="f_BodyText">. Some of them are generic, while others are specialized on specific image formats, being able to read camera metadata or other format specific details. Specialized download nodes are also provided for getting files from common cloud services such as Aspera, Dropbox, FTP, AWS S3, etc). &nbsp;A special case is the </span><span class="f_T_Menu">Watcher</span><span class="f_BodyText"> node, which can track specific folders and execute a workflow when new files appear on it.</span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText" style="font-weight: bold;">- </span><span class="f_TipHeading">Task nodes for working with the input files and producing other files</span><span class="f_BodyText"> (transcoders, applying effects and color transformations, python scripts, metadata operations and classification actions, conform, moving / copying / deleting files, etc) </span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText" style="font-weight: bold;">-</span><span class="f_BodyText"> </span><span class="f_TipHeading">Output nodes specialized to create complex packages or specialized uploads to cloud services </span><span class="f_BodyText">(Aspera, Dropbox, Youtube, FrameIO, FTP, Mail, AWS S3, OneDrive, Slack, Signiant, Tar, etc). &nbsp;</span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_TipHeading">Note</span><span class="f_BodyText">: You can use any external file browser to drag &amp; drop media files to the </span><span class="f_T_Menu" style="font-size: 16px;">Nodegraph</span><span class="f_BodyText">, and the corresponding input node will be created for you. </span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">All those nodes need to be &nbsp;inter-connected in order to define a complete &quot;workflow&quot;.</span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">We can add those nodes into the</span> <span class="f_T_Menu" style="font-size: 16px;">Nodegraph</span><span class="f_T_Menu"> </span><span class="f_BodyText">by doing drag &amp; drop from the</span> <span class="f_T_Menu" style="font-size: 16px;">Finder panel</span><span class="f_BodyText">, or by using the</span> <a href="contextual-menus.html" class="topiclink">Nodegraph Contextual Menu.</a>, <span class="f_BodyText">and once they are in the </span><span class="f_T_Menu" style="font-size: 16px;">Nodegraph </span><span class="f_BodyText">we can start connecting them.</span></p>
<p class="p_Normal" style="text-align: justify;">&nbsp;</p>
<h3 class="p_Heading3" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading3">Example:</span></h3>
<h3 class="p_Heading3" style="line-height: 1.80; page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading3">&nbsp;</span></h3>
<h3 class="p_Heading3" style="line-height: 1.80; page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_BodyText">A simple workflow would be to import some footage that will be transcoded to a certain codec. In this example an H264 </span><span class="f_BodyText" style="font-weight: bold;">.mp4</span><span class="f_BodyText"> file that will be transcoded to </span><span class="f_BodyText" style="font-weight: bold;">DPX</span><span class="f_BodyText"> and then copied to an external folder. </span></h3>
<p class="p_BodyText" style="text-align: justify; line-height: 1.38; margin: 0 0 10px 24px;"><span class="f_BodyText">To do so, first, we import the footage by drag and dropping.</span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">Then we go to the </span><span class="f_T_Menu" style="font-size: 16px;">Finder tab</span><span class="f_BodyText"> and select the </span><span class="f_BodyText" style="font-weight: bold;">DPX node</span><span class="f_BodyText"> and the </span><span class="f_BodyText" style="font-weight: bold;">Copy node</span><span class="f_BodyText">.</span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">Now, let’s connect the nodes. We simply select the </span><span class="f_T_Menu" style="font-size: 16px;">AV Out</span><span class="f_BodyText"> of our footage, and drag the link to the </span><span class="f_T_Menu" style="font-size: 16px;">AV In</span><span class="f_BodyText"> parameter of the DPX Node. </span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 24px 10px 24px;"><span class="f_BodyText">Now, let's repeat the same operation with a </span><span class="f_T_Menu">Copy</span><span class="f_BodyText"> node. Now, we have to select a destination folder on each node. We can go inside the node itself and change the </span><span class="f_T_Menu" style="font-size: 16px;">Dst. Folder</span><span class="f_BodyText"> parameter, or we can drag and drop the destination folder to the </span><span class="f_T_Menu">Copy </span><span class="f_BodyText">node from an external browser. </span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">Once the folder is set up correctly, the node will highlight a green light, which means it is ready to work. </span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">Te next step is to click on </span><span class="f_T_Emphasis">Add to queue</span><span class="f_BodyText">, or in case we have several workflows configured, we can click on </span><span class="f_T_Menu">Add All ready to queue</span><span class="f_BodyText">. </span></p>
<p class="p_BodyText" style="text-align: justify; margin: 0 0 10px 24px;"><span class="f_BodyText">Finally, in the </span><span class="f_T_Menu" style="font-size: 16px;">Queue tab</span><span class="f_BodyText"> we click on </span><span class="f_T_Emphasis">Start all</span><span class="f_BodyText"> &nbsp;to execute the active worflows.</span></p>
<p class="p_Normal" style="text-align: justify;">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal" style="text-align: center;"><img alt="clip0046" width="618" height="489" style="margin:0 auto 0 auto;width:618px;height:489px;border:none" src="clip0046.png"/></p>
<p class="p_Normal" style="text-align: center;">&nbsp;</p>
<p class="p_BodyText"><span class="f_BodyText">&nbsp;</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">Note that it is also permitted to leave &nbsp;independent branches or &quot;islands&quot; in the same workflow tab. If you do so, all of them will be executed in no particular order, unless you establish priorities using the </span><span class="f_T_Menu">rank </span><span class="f_BodyText">connectors (explained below). Whether you choose to create an independent Workflow tab for each branch or to keep them under a same workflow tab will depend on your criteria, but in general you should only create islands in a same workflow tab when they need to be executed together, even if they are not connected because no common files need to be passed between them. For example, a typical &quot;island&quot; is the </span><span class="f_T_Menu">Auto Trigger </span><span class="f_BodyText">node, which does not need to be connected to anything. If present it will periodically execute every other workflow existing in the same workflow tab. </span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">&nbsp;</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">It is important to understand that what travels trough the connectors are not just independent file paths but <a href="common-parameters.html#universalpath" class="topiclink">&quot;Universal Paths&quot; (UPs)</a>., which are data structures including all the associated files (such as enumerated sequences, checksums, etc) and all the metadata information already extracted from the files. So that any posterior node can still access any metadata obtained in a previous node.</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">&nbsp;</span></p>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading2">Color indicators</span></h2>
<p class="p_Normal">&nbsp;</p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">In the case of nodes, the red color indicates that an obligatory connector is not connected yet, the orange color means that some necessary properties have not been set yet. and it becomes green when the node is ready to be executed. &nbsp;A &nbsp;workflow can added to the queue until all the nodes are in green state.</span></p>
<p class="p_BodyText" style="margin: 0 0 10px 24px;"><span class="f_BodyText">In the case of &nbsp;connectors they follow a similar color code. In addition, the black (transparent) connector means that it is an optional connector.</span></p>
<p class="p_BodyText" style="margin: 0 0 10px 24px;"><span class="f_BodyText">When executing the workflow additional colors will be used (cyan while the node is being processed, green (with a checkmark) when it has been successfully executed, and red (with &quot;!&quot;) when the execution has failed (in which case the failure reason will appear in the render log panel)</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p style="text-align: center; text-indent: -13px; line-height: 1.57; margin: 0 0 0 40px;"><img alt="clip0015" width="770" height="54" style="margin:0 auto 0 auto;width:770px;height:54px;border:none" src="clip0015.png"/></p>
<h2 class="p_Heading2" style="page-break-after: avoid;"><span class="f_Heading2">&nbsp;</span></h2>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading2">Standard connectors</span></h2>
<p class="p_Normal">&nbsp;</p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">These are all the connectors except the audio connectors and rank connectors. &nbsp;An important concept to understand is that in Mistika Workflows what goes trough the connectors are not just &quot;file paths&quot;, but also all kinds of file structures alongside with any useful metadata added by previous nodes. &nbsp;This mechanism is explained in the point about &quot;universal paths&quot;.</span> &nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading2">Audio connectors</span></h2>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading2">&nbsp;</span></h2>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">These are a special type of connectors that are used in most media nodes, and they are content aware. Most movie formats support embedded audio, so both the image and audio can &nbsp;go trough a single</span><span class="f_T_Menu"> AV In</span><span class="f_BodyText"> connector, although it is also possible to switch off their </span><span class="f_T_Menu">Use AV In</span><span class="f_BodyText"> property and use the </span><span class="f_T_Menu">Ext.Audio</span><span class="f_BodyText"> connector instead. Meanwhile, enumerated sequences do not have </span><span class="f_T_Menu">AV In</span><span class="f_BodyText"> capability, but they can still be accompanied with external audio files via the </span><span class="f_T_Menu">Ext.Audio </span><span class="f_BodyText"> connector. </span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">&nbsp;</span></p>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading2">Sidecar files and enumerated sequences</span></h2>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 24px;"><span class="f_Heading2">&nbsp;</span></h2>
<p class="p_BodyText" style="margin: 0 24px 10px 24px;"><span class="f_BodyText">Mistika Workflows recognizes and understand certain file structures that are common in media production. &nbsp;When present these file structures are detected automatically, and all the related files belonging to them are kept &nbsp;together without the need for explicit node connections or independent file management. All the files belonging to those structures are also keep together on every copy / move / upload / download / delete actions. &nbsp;Among others:</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;"><span class="f_T_Emphasis">Enumerated sequences</span><span class="f_BodyText"> (one file per frame), as defined by the </span><span class="f_T_Menu">Name Convention</span><span class="f_BodyText"> fields.</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;"><span class="f_T_Emphasis">CDL sidecar files:</span><span class="f_BodyText"> Same name and location as the media files, &nbsp;with </span><span class="f_T_Entry10pt">.cc</span><span class="f_BodyText"> added as a second extension at the end.( Example: </span><span class="f_T_Emphasis">test.mxf.cdl </span><span class="f_BodyText">)</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;"><span class="f_T_Emphasis">Checksum sidecar files:</span><span class="f_BodyText"> Same name &nbsp;and location as the media files, with a supported checksum extension added as a </span><span class="f_TipHeading">second</span><span class="f_BodyText"> extension at the end ( Example: </span><span class="f_T_Emphasis">test.mxf.md5</span><span class="f_BodyText">,...)</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;"><span class="f_T_Emphasis">CSV &nbsp;sidecar metadata files:</span><span class="f_BodyText"> Same name and location as the media files, with a .csv extension added as a second extension at the end. ( Example:</span><span class="f_T_Emphasis"> test.mxf.csv</span><span class="f_BodyText">)</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;"><span class="f_T_Emphasis">&quot;Megapacks&quot;: </span><span class="f_BodyText"> These are complex media formats made of multiple files and even their own folder structures (DCPs, Panasonic 8KP2, Sony XDROOT, R3D...). As per the specification of each of those standards.</span></p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;">In general. those structures can also be created in Mistika Workflows by using specialized nodes, which is documented in their specific node topics.</p>
<p class="p_BodyText" style="margin: 0 24px 10px 37px;"><span class="f_BodyText">&nbsp;</span></p>
<h2 class="p_Heading2" style="page-break-after: avoid; margin: 0 0 0 26px;"><a id="rankconnectors" class="hmanchor"></a><span class="f_Heading2">Rank connectors</span></h2>
<p style="background: #ffffff;"><span style="font-size: 13px;">&nbsp;</span></p>
<p class="p_Normal" style="margin: 0 0 0 26px;">The rank connectors (yellow triangles pointing downwards) permit to establish the execution priority between different node branches of the same workflow, or even independent node islands. &nbsp;</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">Consider the example in this picture, which corresponds to automated TV promos that requires to compose 3 &nbsp;motion graphics on top of the incoming clips, finally encoding the result to NVidiah265:</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">&nbsp;</p>
<p style="text-align: center; line-height: 1.50; background: #ffffff; margin: 8px 19px 0 19px;"><img alt="rank" title="rank" width="735" height="386" style="margin:0 auto 0 auto;width:735px;height:386px;border:none" src="rank.png"/></p>
<p style="line-height: 1.50; background: #ffffff; margin: 8px 19px 0 19px;"><span style="font-size: 13px;">&nbsp;</span></p>
<p class="p_Normal" style="margin: 0 0 0 26px;">Any clip appearing in the Watcher node will trigger the whole workflow execution, which has two parts. The upper part will get 3 motion graphics sequences and configure a display filter that can compose those images on top of a clip. &nbsp;While the bottom part will get any clips appearing in the Watcher folder and it will export a new version using the NVidiaH265 encoder, at which point it needs to apply the display filter that was configured in the upper part in order to compose the motion graphics on top of the clip.</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">&nbsp;</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">The yellow triangles are the rank connectors. In this example, we wanted the upper Set DisplayFilter Files node to be executed before the NVidiaH265 node below. Without the rank connectors we would have two independent islands of nodes, which is perfectly acceptable when you don't have a specific preference about the execution order. But in this particular case we need &nbsp;the upper branch to be executed first, as they are used to configure a display filter file that we plan to load later in the NVidiaH265 node at the bottom. In a case like this we could not use a standard connector between the two, because nothing is really passed between the nodes that we mention. (The NVidiaH265 node does not have any connector to receive &quot;display filters&quot;, it simply has a property that can load a display filter file from disk)</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">&nbsp;</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">Please note that this is not the same as having the two islands in two different workflow tabs (two consecutive jobs in the queue), because in this case the workflow trigger needs to be the same for both (the Watcher node). In this way, &nbsp;when a new file arrives to the Watcher node both parts of the workflow will be executed automatically (if the workflow is in the queue), and thanks to the rank connectors we can define which part needs to be executed first.</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">&nbsp;</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">The above example uses two islands, but the rank connectors also work to define priorities between between node branches. For example, in the above example you could replace the 3 MediaSequence nodes by a python node, having &nbsp;its input connected to the Watcher node and its outputs connected to the Set DisplayFilter Files node. Then the python node could use the names of the files appearing in the Watcher node to select the proper graphic files that need to be passed to the Set DisplayFilter Files, rather than using the same images for all cases. In this new example there would be two &quot;branches&quot; interconnected by the Watcher node rather than two &quot;islands&quot;. But the rank connectors would work in identical way.</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">&nbsp;</p>
<p class="p_Normal" style="margin: 0 0 0 26px;">&nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">


  $(document).ready(function(){
    $(window).bind('resize', function() {
      var y = $('#idheader').height(); 
      $('#idcontent').css('margin-top', y);
      var par = window.parent;
      if ($( par ).width() <= $( window ).width()+20) {
        $('#idheader').css('position', 'relative');
        $('#idcontent').css('margin-top', 0);
        $('#idbacktotop').css('display', 'block');
        $('.hmanchor').css('margin-top', -20);
	$('.hmanchor').css('padding-top', 20);
      }
      else {
        $('#idheader').css('position', 'fixed');
        $('#idcontent').css('margin-top', $('#idheader').height());
        $('#idbacktotop').css('display', 'none');
        $('.hmanchor').css('margin-top', -y-20);
	$('.hmanchor').css('padding-top', y+20);
      }
    });
    
    $(window).resize(); //trigger event for initially small displays
  });

if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) { $('.sync-toc').show();$('p.crumbs').hide();}

</script>
</body>
</html>
